<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="css/style.css"/>
<script src="js/jquery-1.12.0.min.js"></script>
<style>
#saklar_hidup{
background-color:red;
color:white;
}
#saklar_mati{
background-color:green;
color:white;
}
</style>
</head>
<body>
	<div class="row">
	<h5>Simulasi bola lampu flip-flop 2 lampu dengan control button on dan off</h5>
	<h5>By alimin</h5>
	</div>
		    <div id="container" class="container" id="container">
		
				
			</div>		
		</div>
		<div class ="row">
			<div id="saklar_hidup" class ="saklar" onclick="on(1);">
					On
			</div>
			<div id="saklar_mati" class ="saklar" onclick="off();">
					Off
			</div>
		</div>
	</div>
	<h5 id="count"><h5>
</body>

<script>
//parameter digunakan untuk menentukan properti warna secara mandiri
function buat_lampu(arrproperty){
//alert(arrproperty.key[0]);
var html_string='\n'+
				'<div class="lampu">\n'+
                '<div class="row">\n'+
				'<div class="row">\n'+
					'<div id="bola-lampu'+arrproperty.key[0]+'" class="bola-lampu">\n'+
					'</div>\n'+
				'</div>\n'+
				'<div class="row">\n'+
					'<div class="gagang-lampu">\n'+
						'<div class="arsir-gagang-lampu">\n'+
						'</div>\n'+
						'<div class="arsir-gagang-lampu">\n'+
						'</div>\n'+
						'<div class="ujung-arsir-gagang">\n'+
						'</div>\n'+
					'</div>\n'+
				'</div>\n'+  
				'</div>\n'+
				'</div>\n'+ 
				'';
				
			return html_string;
}

var colors=['aqua', 'black', 'blue', 'fuchsia', 'gray', 'green', 
'lime', 'maroon', 'navy', 'olive', 'orange', 'purple', 'red', 
'silver', 'teal', 'white', 'yellow'];
//alert(myMap.key[0]);
function buatlampu(){
for (var i=0; i <= colors.length; i++){
var mapproperty = { key: [i,colors[i]] };
$("#container").append(buat_lampu(mapproperty));
 $("#bola-lampu"+i).css("background-color",colors[i]);
}
}
buatlampu();


function lampumerahmati(){
	$("#bola-lampu-1").removeClass("bola-lampu-merah-nyala");
}

function lampuhijauhidup(){
	$("#bola-lampu-2").addClass("bola-lampu-hijau-nyala");
}

function lampuhijaumati(){
	$("#bola-lampu-2").removeClass("bola-lampu-hijau-nyala");
}

function lampumati(){
	$("#bola-lampu-1").removeClass("bola-lampu-merah-nyala");
}
var timer
function on(){
  timer = setInterval(run, 100)
}
var count=colors.length-1;
var count1=0;
function run(){
if(count == 1){
// alert(color[count1]);
count=colors.length-1;
count1=0;
 $("#bola-lampu"+count).css("background-color",colors[count]);

}
if(count1 <= colors.length-1){
  $("#bola-lampu"+count1).css("background-color",colors[count]);
}
	count --;
	count1 ++;
  $("#count").text(count1);
}

function off(){
clearInterval(timer);
timer=null;
}

</script>
</html>
